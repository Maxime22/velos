<!doctype html>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SMF Vélos, réservation de vélos</title>
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <meta name="title" content="SMF Vélos : La réservation en un clic !">
    <meta name="description" content="SMF Vélos est la référence pour réserver un vélo à Saint-Maur-des-Fossés. En effet, son diaporama
    explicatif et sa carte interactive permette, en un tour de main, de prendre un vélo dans la ville. Celui-ci reste disponible une
    vingtaine de minutes puis est remis à disposition. La ville demande simplement une petite signature, un nom et un prénom. Bonne route !">
    <meta name="keywords" content="bike reservation, bike rent">
    <link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
    <!-- normalize.css is included in bootstrap -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU"
        crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
        crossorigin="" />
    <!-- MarkerCluster used for assembling markers -->
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.css" />
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.Default.css" />
</head>

<body>
    <header class="container-fluid">
        <div class="row">
            <nav class="navbar fixed-top navbar-expand-sm">
                <a class="navbar-brand" href="index.html"><img src="images/logovelo.png" alt="Logo SMF Vélos" id="imgLogo" /></a>

                <ul class="navbar-nav ml-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Accueil</a></li>
                    <li class="nav-item"><a class="nav-link" href="index.html#diaporama">Diaporama</a></li>
                    <li class="nav-item"><a class="nav-link" href="index.html#reservation">Réservation</a></li>
                </ul>
            </nav>
        </div>

    </header>

    <section id="diaporama" class="container-fluid">
    </section>

    <section id="reservation" class="container-fluid">
        <div class="row">
            <div class="col-sm-12 centerText">
                <h2 class="titleMapAndForm">Réservation :</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-8">
                <div id="map"></div>
            </div>
            <div class="col-sm-4 centerText">
                <div id="formReservation">
                    <div id='titleStation'>
                        Détails de la station :
                    </div>
                    <p>Nom de la station :
                        <span id='stationName'></span>
                    </p>
                    <p>Adresse :
                        <span id='stationAddress'></span>
                    </p>
                    <p>Statut :
                        <span id='stationStatus'></span>
                    </p>
                    <p>Nombre de places au total :
                        <span id='nbTotalPlace'></span>
                    </p>
                    <p>Nombre de places disponibles pour mettre son vélo :
                        <span id='availablePlaces'></span>
                    </p>
                    <p>Nombre de vélos disponibles :
                        <span id='availableBikes'></span>
                    </p>
                    <form>
                        <fieldset>
                            <legend> Réservation : </legend>
                            <div>
                                <label for="nameFam">Nom</label> :
                                <input type="text" name="nameFam" id="nameFam" class="form-control" required>
                            </div>
                            <div>
                                <label for="nameFirst">Prénom</label> :
                                <input type="text" name="nameFirst" id="nameFirst" class="form-control" required>
                            </div>
                            <button type="button" id="reservationBtn" class="btn btn-primary" onclick="return createCanvas()" disabled>Réserver</button>
                            <div id="integrateCanvas"></div>
                            <div id="secondButton"></div>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <footer class="container-fluid centerText">
        <div id="webStorageInfos">Here will be the API Web Storage</div>
    </footer>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
        crossorigin=""></script>
    <!-- MarkerCluster JS -->
    <script type='text/javascript' src='https://unpkg.com/leaflet.markercluster@1.3.0/dist/leaflet.markercluster.js'></script>
    <script src="js/sliderclass.js"></script>
    <script src="js/map.js"></script>
    <script src="js/canvas.js"></script>

    <script type="text/javascript">
        let slider = new Slider;
        let figcaptionsSlider = [
            [
                { type: 'title', value: "SMF Vélos , l'application de réservation écolo !" },
                { type: 'text', value: "Ce diaporama vous explique toute la démarche à suivre pour réserver en ligne, alors n'hésitez plus !" },
                { type: 'button', value: "Cliquez-ici pour en savoir plus" }
            ],
            [
                { type: 'text', value: "2" }
            ],
            [
                { type: 'text', value: "3" }
            ],
            [
                { type: 'text', value: "4" }
            ]
        ];
        let imgs = [
            {
                url: 'images/bicycleCouple.jpg', alt: 'Couple sur un vélo, coucher de soleil, présentation SMF',
                title: "SMF Vélos , l'application de réservation écolo !", figcaption: figcaptionsSlider[0]
            },
            {
                url: 'images/bicycleBlue.jpg', alt: 'Vélo bleu', title: "COMPLETE",
                figcaption: figcaptionsSlider[1]
            },
            {
                url: 'images/bicycleCouple2.jpg', alt: 'Couple sur un vélo 2', title: "COMPLETE",
                figcaption: figcaptionsSlider[2]
            },
            {
                url: 'images/bicycleRoad.jpg', alt: 'Couple sur un vélo, présentation SMF',
                title: "COMPLETE", figcaption: figcaptionsSlider[3]
            }
        ]

        let config = {
            displayNextBeforeButtons: true,
            controlButtonsStartStop: true,
            displayProgressBar: true,
            sliderNumber: 0 // is used in case we have different slider on the same page, like that the id created won't be duplicated
        }

        slider.init('diaporama', imgs, config);
        slider.createHtml();
        // We start the progress bar
        slider.progressBar(0);
    </script>

    <script type="text/javascript">
        let creteilMap = new Map;
        // We initialize the center in Creteil
        let lat = 48.778410;
        let lon = 2.462997;
        // File with markers
        let iconBase = './images/';

        window.onload = function () {
            // The function starts when the DOM is charged
            creteilMap.initMap(lat, lon, iconBase)
        };
    </script>
    <script>
        let countValid = 1;
        function createCanvas() {
            let divCanvas = document.getElementById("integrateCanvas")
            let divSecondButton = document.getElementById("secondButton")
            let canvas = document.createElement("canvas")
            let buttonValidation = document.createElement("button")

            if (countValid === 1) {
                buttonValidation.classList.add("btn", "btn-primary")
                buttonValidation.textContent = "Valider"
                buttonValidation.setAttribute('id', "secondButton")

                divCanvas.appendChild(canvas)
                divSecondButton.appendChild(buttonValidation)
                countValid++;
            }
        }
    </script>

</body>

</html>




<!-- 
    url: 'images/bicycleCouple.jpg', alt: 'Couple sur un vélo, coucher de soleil, présentation SMF',
    title: "SMF Vélos , l'application de réservation écolo !", figcaptionTitle: figcaptionsSlider[0],
    figcaptionText: figcaptionsSlider[1]
}, -->
<!-- <script>
        let map = new ol.Map({
            target: 'map',
            layers: [
                new ol.layer.Tile({
                    source: new ol.source.OSM()
                })
            ],
            view: new ol.View({
                center: ol.proj.fromLonLat([2.462997, 48.778410]),
                zoom: 14
            })
        });
    </script> -->